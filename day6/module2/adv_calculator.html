<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Simple Interest Calculator</title>
    <style>
        body { 
          font-family: sans-serif; 
          display: flex; 
          justify-content: center; 
          padding: 20px; 
        }
        .calculator-card { 
            border: 2px solid #00aeef; 
            border-radius: 8px; 
            padding: 20px; 
            width: 350px; 
            text-align: center; 
        }
        .input-group { 
          margin-bottom: 15px; 
          text-align: left; }
        label { 
          display: block; 
          font-weight: bold; 
          margin-bottom: 5px; 
          font-size: 14px; }
        input { 
            width: 100%; 
            padding: 8px; 
            box-sizing: border-box; 
            border: 1px solid #ddd; 
            border-radius: 4px; 
        }
        button { 
            background-color: #28a745; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            border-radius: 4px; 
            cursor: pointer; 
            font-weight: bold;
            width: 100%;
            margin-top: 10px;
        }
        button:hover { background-color: #218838; }
        .results { 
            margin-top: 20px; 
            text-align: left; 
            border-top: 1px solid #eee; 
            padding-top: 10px; 
        }
        .results p { 
            margin: 8px 0; 
            font-weight: bold; 
        }
        .info-text { 
            font-weight: normal !important; 
            font-size: 13px; 
            color: #555; 
        }
        .error { 
            color: #dc3545; 
            font-weight: bold; 
            margin-top: 10px; 
        }
    </style>
</head>
<body>

    <div class="calculator-card">
        <h2>Advanced Simple Interest Calculator</h2>

        <div class="input-group">
            <label>Principal Amount:</label>
            <input type="number" id="principal" placeholder="Enter principal amount">
        </div>

        <div class="input-group">
            <label>Rate of Interest (%):</label>
            <input type="number" id="rate" placeholder="Enter interest rate">
        </div>

        <div class="input-group">
            <label>Time (Years):</label>
            <input type="number" id="time" placeholder="Enter time in years">
        </div>

        <button onclick="mainCalculation()">Calculate Interest</button>

        <div id="error-message" class="error"></div>

        <div class="results">
            <p>Interest: <span id="res-interest">-</span></p>
            <p>Total Amount: <span id="res-total">-</span></p>
            <p>Additional Information: <br>
                <span id="res-info" class="info-text">Enter values and click calculate.</span>
            </p>
        </div>
    </div>

    <script>
        function validateInput(p, r, t) {
            if (isNaN(p) || isNaN(r) || isNaN(t)) {
                return "Please enter valid numeric values.";
            }
            if (p < 500 || p > 10000) {
                return "Principal must be between $500 and $10,000.";
            }
            return null; // No errors
        }

        function getBaseRate(principal) {
            if (principal < 1000) return 5;
            if (principal <= 5000) return 7;
            if (principal > 5000 && principal <= 10000) return 10;
            return 12;
        }

        function applyBonus(baseRate, time) {
            return time > 5 ? baseRate + 2 : baseRate;
        }

        function mainCalculation() {
            // DOM elements
            const p = parseFloat(document.getElementById('principal').value);
            const rInput = parseFloat(document.getElementById('rate').value);
            const t = parseFloat(document.getElementById('time').value);
            const errorDiv = document.getElementById('error-message');
            
            // Reset display
            errorDiv.innerText = "";
            
            // validation
            const error = validateInput(p, rInput, t);
            if (error) {
                errorDiv.innerText = error;
                return;
            }

            // rates
            const baseRate = getBaseRate(p);
            const finalRate = applyBonus(baseRate, t);
            const bonusApplied = t > 5;

            // interest
            const interest = (p * finalRate * t) / 100;
            const total = p + interest;

            // update DOM
            document.getElementById('res-interest').innerText = `$${interest.toFixed(2)}`;
            document.getElementById('res-total').innerText = `$${total.toFixed(2)}`;
            
            let info = `Applied Base Rate: ${baseRate}%. `;
            if (bonusApplied) {
                info += `Applied a +2% bonus for duration > 5 years. Total Rate: ${finalRate}%.`;
            } else {
                info += `No duration bonus applied.`;
            }
            document.getElementById('res-info').innerText = info;
        }
    </script>

</body>
</html>